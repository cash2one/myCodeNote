--------------------------------------------------------------------------------


| 协议 | IP | 端口 | 用户名 | 密码 |
|---|---|---|---|---|
| SSH(加密)| 10.0.0.7 | 22 | xxxx | xxxx |
| telnet (未加密)|  10.0.0.7 | 23 | xxxx | xxxx |
|---|---|---|---|---|

```

ps -ef|grep ssh

root 1283  1 0 May29 ? 00:19:22 /usr/sbin/**ssh**d -D

root  14825 1283 0 17:17 ? 00:00:00 **ssh**d: root@pts/0

root  14947 14889 0 17:24 pts/0 00:00:00 grep --color=auto **ssh**







// 0.0.0.0? 说的是监听本机的所有网卡, 我一台机器有5个IP地址,你访问我任何一个IP地址的22端口,我都相应你

netstat -lntup|grep ssh

tcp 0 0 0.0.0.0:22 0.0.0.0:*  LISTEN 1283/**ssh**d       

tcp6  0 0 :::22  :::* LISTEN 1283/**ssh**d




// 假如,我们ssh出问题了怎么办了?
排查故障

1. 物理网络看看 (网线,网卡, IP对不对)


telnet 172.217.10.46 222

Trying 172.217.10.46... 
// 





telnet www.baidu.com 22     

Trying 163.177.151.110... 





/关闭防火墙????
/etc/init.d/iptables stop


// 看某个服务端口
netstat -lntup|grep ssh

netstat -lntup|grep nginx 

tcp 0 0 0.0.0.0:80 0.0.0.0:*  LISTEN 25469/**nginx** -g daem

tcp6  0 0 :::80  :::*



// 重启ssh?


```


--------------------------------------------------------------------------------
![sshAbbout](sshAbbout.png)

```
openssh 连接

openssl 加密


```


![32or64linux 2](32or64linux%202.png)

--------------------------------------------------------------------------------

```

linux 普通用户

useradd st


tail -l /etc/passwd

passwd st // 改密码

```


```

角色切换,  ----, 说一定要加杠-

whoami // 我是谁



```

--------------------------------------------------------------------------------

```
2017年11月18日03:18:40

给某个用户输入密码

echo "123456"|passwd --stdin shuT

```

--------------------------------------------------------------------------------

```

uname -a

Linux ubuntu-512mb-nyc2-01 4.4.0-78-generic #99-Ubuntu SMP Thu Apr 27 15:29:09 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux






uname  -r // 内核

uname -m 64?


uname -n
 uname -n

阿萨德-asdasmb-nyc2-01

hostname
```
--------------------------------------------------------------------------------


#  2017年11月18日11:33:49

````

关闭SELinux 功能

搁哪了?

centeros
/etc/selinux/config

sed 's#SELINUX=enforcing#SELINUX=disabled#g' /etc/selinux/config // 先来一个没有-i的看看效果

// 看完效果ok, 真的替换
sed -i 's#SELINUX=enforcing#SELINUX=disabled#g' /etc/selinux/config // 先来一个没有-i的看看效果

grep '19' /etc/selinux/semanage.conf



// 上面👆那样改了,只是配置文件改了, 但是是不生效的, 要重启系统

看看SELINUX 状态
getenforce

setenforce 0

````


--------------------------------------------------------------------------------
# 2017年11月18日12:03:03


--------------------------------------------------------------------------------

```

超时退出登录
export TMOUT=10


// 语言
LANG=en


// 清空历史记录
history -c

// 删除第五条
history -d 5


// 
export HISTSIZE=5

export HISTSIZE=100

cat ~/.bash_history



echo 'HISTSIZE=100' >>/etc/profile
echo '' >>/etc/profile
echo '' >>/etc/profile

source /etc/profile
```



```

隐藏系统配置信息

> /etc/issue.net
> /etc/issue 
```
--------------------------------------------------------------------------------

```

挂载
mount /dev/cdrom


```

--------------------------------------------------------------------------------


--------------------------------------------------------------------------------


--------------------------------------------------------------------------------


--------------------------------------------------------------------------------
